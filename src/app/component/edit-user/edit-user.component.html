<div *ngIf="id == null"><p>Editing own user</p></div>
<div *ngIf="id != null"><p>Not editing own user</p></div>
<div *ngIf="account == null">
  <p>Loading user...</p>
</div>
<div *ngIf="account != null">
  <form #editUserForm="ngForm" (ngSubmit)="onSubmit()">
    <table class="collapse">
      <tr>
        <td class="labelbox"></td>
        <td><h1>Edit user profile</h1></td>
      </tr>
      <tr>
        <td class="labelbox"><label>Identifier:</label></td>
        <td>{{account.id}}</td>
      </tr>
      <tr>
        <td class="labelbox"><label for="username">Username:</label></td>
        <td>
          <input type="text" required [(ngModel)]="newAccount.username" id="username" name="username" #username="ngModel">
          <span [hidden]="username.valid ||username.pristine" class="warning">⚠️</span>
        </td>
      </tr>
      <tr>
        <td class="labelbox"><label for="firstName">First name:</label></td>
        <td>
          <input type="text" required [(ngModel)]="newAccount.firstName" id="firstName" name="firstName" #firstName="ngModel">
          <span [hidden]="firstName.valid ||firstName.pristine" class="warning">⚠️</span>
        </td>
      </tr>
      <tr>
        <td class="labelbox"><label for="lastName">Last name:</label></td>
        <td>
          <input type="text" required [(ngModel)]="newAccount.lastName" id="lastName" name="lastName" #lastName="ngModel">
          <span [hidden]="lastName.valid ||lastName.pristine" class="warning">⚠️</span>
        </td>
      </tr>
      <tr>
        <td class="labelbox"><label for="userType">User type:</label></td>
        <td>
          <select [(ngModel)]="newAccount.userType" id="userType" name="userType" #userType="ngModel" required>
            <option *ngFor="let userType of userTypes" [value]="userType" [label]="userType" [attr.selected]="userType==newAccount.userType ? true : null">{{userType}}</option>
          </select>
          <span [hidden]="userType.valid ||userType.pristine" class="warning">⚠️</span>
        </td>
      </tr>
      <tr>
        <td class="labelbox"></td>
        <td>
          <h1>Change password</h1>
          <p>Leave this field empty if you do not wish to change the password.</p>
        </td>
      </tr>
      <tr>
        <td class="labelbox"><label for="password">Password:</label></td>
        <td>
          <input type="password" [(ngModel)]="newAccount.password" id="password" name="password" #password="ngModel">
          <span [hidden]="password.valid ||password.pristine" class="warning">⚠️</span>
        </td>
      </tr>
      <tr>
        <td></td>
        <td class="warning"><p>{{errorMessage}}</p></td>
      </tr>
      <tr>
        <td></td>
        <td><button type="submit" [disabled]="submitted || !editUserForm.form.valid">Edit profile</button></td>
      </tr>
    </table>
  </form>
</div>
